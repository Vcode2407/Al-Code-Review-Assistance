import React, { useState } from "react"; import axios from "axios"; import ReactMarkdown from "react-markdown"; import remarkGfm from "remark-gfm"; import "./App.css"; function App() { const [code, setCode] = useState(""); const [review, setReview] = useState(""); const [loading, setLoading] = useState(false); const API_URL = "https://cuhpemmwjabfzkaithcm.supabase.co/functions/v1/ai-review"; const handleReview = async () => { if (!code) return alert("Paste code first!"); setLoading(true); setReview(""); try { const response = await axios.post(API_URL, { code }); setReview(response.data.review); } catch (e) { setReview("## Error\\nCould not connect to the AI service."); } finally { setLoading(false); } }; return ( <div className="App"> <nav className="navbar"> <div className="logo">AI Audit Pro</div> <div className="status">Gemini 2.5 Active</div> </nav> <div className="main-grid"> <section className="editor-section"> <h3>Source Code</h3> <textarea value={code} onChange={(e) => setCode(e.target.value)} placeholder="// Paste code for security audit..." /> <button className="primary-btn" onClick={handleReview} disabled={loading}> {loading ? "Analyzing..." : "Run Audit"} </button> </section> <section className="review-section"> <h3>Review Report</h3> <div className="markdown-container"> {!review && !loading && <p className="empty">Reports will appear here after analysis.</p>} {loading && <div className="loader">Scanning for vulnerabilities...</div>} <ReactMarkdown remarkPlugins={[remarkGfm]}>{review}</ReactMarkdown> </div> </section> </div> </div> ); } export default App;
