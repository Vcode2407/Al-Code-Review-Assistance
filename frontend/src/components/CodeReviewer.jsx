import React, { useState } from "react";  
import axios from "axios";  
export default function CodeReviewer({ token, onLogout }) { const [code, setCode] = useState(""); const [review, setReview] = useState(""); const [loading, setLoading] = useState(false); const handleAudit = async () => { setLoading(true); try { const res = await axios.post("https://al-code-review-assistance.onrender.com/review", { code }, { headers: { Authorization: `Bearer ${token}` } }); setReview(res.data.review); } catch (err) { alert("Audit failed"); } setLoading(false); }; return ( <div className="p-6 bg-gray-900 text-white"> <div className="flex justify-between"><h1>Audit Dashboard</h1><button onClick={onLogout}>Logout</button></div> <textarea className="w-full h-64 mt-4 bg-gray-800 text-white p-2" value={code} onChange={(e) => setCode(e.target.value)} /> <button onClick={handleAudit} className="bg-blue-600 p-2 mt-4">{loading ? "Analyzing..." : "Run Audit"}</button> <pre className="mt-4 bg-black p-4 whitespace-pre-wrap">{review}</pre> </div> ); } 
