import express from 'express'; import cors from 'cors'; import dotenv from 'dotenv'; import { GoogleGenerativeAI } from '@google/generative-ai'; dotenv.config(); const app = express(); app.use(cors()); app.use(express.json()); const genAI = new GoogleGenerativeAI(process.env.OPENAI_API_KEY); const model = genAI.getGenerativeModel({ model: 'gemini-2.5-flash' }); app.post('/review', async (req, res) => { try { const { code } = req.body; if (!code) return res.status(400).json({ error: 'Code is required' }); const prompt = 'You are a professional code reviewer. Review this code and provide improvements:\\n\\n' + code; const result = await model.generateContent(prompt); const response = await result.response; const text = response.text(); res.json({ review: text }); } catch (error) { console.error('Gemini Error:', error.message); res.status(500).json({ error: 'Internal Server Error', details: error.message }); } }); const PORT = process.env.PORT || 10000; app.listen(PORT, () => { console.log('?? Server running on port ' + PORT); });
app.get('/', (req, res) = Code Reviewer API is Live!')); 
